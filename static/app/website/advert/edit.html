<div class="inner-box category-content">
    <h2 class="title-2 uppercase"><strong> <i class="icon-docs"></i> Post a Free Classified Ad</strong></h2>

    <div class="row">
        <div class="col-sm-12">
            <form class="form-horizontal" name="form" novalidate>
                <fieldset>
                    <!-- Select Basic -->
                    <div class="content-subheading"><i class="icon-user fa"></i> <strong>Update advert. Category: {{advert.parent.title}}</strong></div>
                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-3 control-label required" for="Adtitle">Ad title<sup>*</sup></label>

                        <div class="col-md-8">
                            <input id="Adtitle" name="title" class="form-control input-md"
                                   required type="text" ng-model="advert.title">
                            <span class="help-block">A great title needs at least 60 characters. </span></div>
                    </div>

                    <!-- Textarea -->
                    <div class="form-group">
                        <label class="col-md-3 control-label required" for="textarea">Describe ad<sup>*</sup></label>

                        <div class="col-md-8">
                            <textarea
                                    class="form-control" id="textarea" name="text" ng-model="advert.text" required>
                                Describe what makes your ad unique
                            </textarea>
                        </div>
                    </div>

                    <!-- Prepended text-->
                    <div class="form-group">
                        <label class="col-md-3 control-label required" for="Price">Price<sup>*</sup></label>

                        <div class="col-md-4">
                            <div class="input-group"><span class="input-group-addon">$</span>
                                <input
                                        id="Price" name="price" class="form-control"
                                        required type="text" ng-model="advert.price">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox">
                                    Negotiable </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label required" for="Location">Location</label>

                        <div class="col-md-8">
                            <input id="Location" name="location" class="form-control input-md"
                                   required type="text" ng-model="advert.location">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label"></label>

                        <div class="col-md-8">
                            <submit ng-click="!form.$invalid && save(advert, form)" class="btn btn-primary btn-lg">Submit
                            </submit>
                        </div>
                    </div>
                    <div class="content-subheading"><i class="icon-user fa"></i>
                        <strong>Photos</strong>
                    </div>
                    <!-- photo -->
                    <div class="form-group">
                        <div class="col-md-8" ng-if="uploader">
                            <!--TODO. Magic numbers move to constants-->
                            <input ng-if="(uploader.queue.length + images.length) < 5" type="file" nv-file-select uploader="uploader" />
                            <input ng-if="(uploader.queue.length + images.length) >= 5" type="file" disabled />

                            <p class="help-block">
                                <span>Add up to 5 photos. Use a real image of your product, not catalogs.</span>
                            </p>
                        </div>
                        <div class="col-md-12" ng-if="uploader">
                            <div class="panel panel-default">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>File</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in uploader.queue">
                                        <td>
                                            <span>{{item.file.name}}</span>
                                        </td>
                                        <td>
                                            <button ng-if="!item.isUploaded" class="btn btn-default btn-xs" ng-click="item.remove()">cancel</button>
                                            <button ng-if="!item.isUploaded" class="btn btn-primary btn-xs" ng-click="item.upload()">upload</button>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="image in images">
                                        <td>
                                            <img ng-src="{{api}}/image/{{image.id}}/image?thumb=1" style="margin:auto;">
                                        </td>
                                        <td>
                                            <button class="btn btn-default btn-xs" ng-click="removeImage(image, uploader, images)">remove</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- Button  -->
                </fieldset>
            </form>
        </div>
    </div>
</div>
